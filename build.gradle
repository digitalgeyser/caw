apply plugin: 'java'

def jarPath = "${System.properties['java.home']}/../lib/ant-javafx.jar"

ant.taskdef (
  resource: 'com/sun/javafx/tools/ant/antlib.xml',
  classpath: jarPath,
  uri: 'javafx'
)

sourceSets {
  main {
    java {
      srcDirs = ['src']
      output.classesDir = 'out/production/CellularAutomataWorkbench/'
    }
  }
}

task compile << {
}

task deploy << {

  println 'Adding java from: ' + jarPath

  ant.echo(message: "hmmmm")
  ant.'javafx:jar'(destfile: 'caw.jar') {
    fileset(dir: 'out/production/CellularAutomataWorkbench')
    application(name:'CellularAutomataWorkbench', mainClass: 'com.dg.caw.Main')
  }
}
